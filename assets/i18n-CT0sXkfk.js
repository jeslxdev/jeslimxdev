import{r as e,g as n}from"./vendor-B_uAldPx.js";var s=e();const t=n(s),a={},r=(e,n,s,t)=>{u(s)&&a[s]||(u(s)&&(a[s]=new Date),((e,n,s,t)=>{var a,r,o,i;const l=[s,{code:n,...t||{}}];if(null==(r=null==(a=null==e?void 0:e.services)?void 0:a.logger)?void 0:r.forward)return e.services.logger.forward(l,"warn","react-i18next::",!0);u(l[0])&&(l[0]=`react-i18next:: ${l[0]}`),(null==(i=null==(o=null==e?void 0:e.services)?void 0:o.logger)?void 0:i.warn)?e.services.logger.warn(...l):null==console||console.warn})(e,n,s,t))},o=(e,n)=>()=>{if(e.isInitialized)n();else{const s=()=>{setTimeout(()=>{e.off("initialized",s)},0),n()};e.on("initialized",s)}},i=(e,n,s)=>{e.loadNamespaces(n,o(e,s))},l=(e,n,s,t)=>{if(u(s)&&(s=[s]),e.options.preload&&e.options.preload.indexOf(n)>-1)return i(e,s,t);s.forEach(n=>{e.options.ns.indexOf(n)<0&&e.options.ns.push(n)}),e.loadLanguages(n,o(e,t))},u=e=>"string"==typeof e,c=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,d={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},g=e=>d[e];let p={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(c,g)};const f=s.createContext();class m{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const N=(e,n,s,t)=>e.getFixedT(n,s,t),h=(e,n={})=>{var t,a,o,c;const{i18n:d}=n,{i18n:g,defaultNS:h}=s.useContext(f)||{},v=d||g||void 0;if(v&&!v.reportNamespaces&&(v.reportNamespaces=new m),!v){r(v,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const e=(e,n)=>{return u(n)?n:"object"==typeof(s=n)&&null!==s&&u(n.defaultValue)?n.defaultValue:Array.isArray(e)?e[e.length-1]:e;var s},n=[e,{},!1];return n.t=e,n.i18n={},n.ready=!1,n}(null==(t=v.options.react)?void 0:t.wait)&&r(v,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const b={...p,...v.options.react,...n},{useSuspense:y,keyPrefix:w}=b;let x=h||(null==(a=v.options)?void 0:a.defaultNS);x=u(x)?[x]:x||["translation"],null==(c=(o=v.reportNamespaces).addUsedNamespaces)||c.call(o,x);const E=(v.isInitialized||v.initializedStoreOnce)&&x.every(e=>((e,n,s={})=>n.languages&&n.languages.length?n.hasLoadedNamespace(e,{lng:s.lng,precheck:(n,t)=>{if(s.bindI18n&&s.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!t(n.isLanguageChangingTo,e))return!1}}):(r(n,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:n.languages}),!0))(e,v,b)),I=((e,n,t,a)=>s.useCallback(N(e,n,t,a),[e,n,t,a]))(v,n.lng||null,"fallback"===b.nsMode?x:x[0],w),S=()=>I,T=()=>N(v,n.lng||null,"fallback"===b.nsMode?x:x[0],w),[C,O]=s.useState(S);let k=x.join();n.lng&&(k=`${n.lng}${k}`);const A=((e,n)=>{const t=s.useRef();return s.useEffect(()=>{t.current=e},[e,n]),t.current})(k),z=s.useRef(!0);s.useEffect(()=>{const{bindI18n:e,bindI18nStore:s}=b;z.current=!0,E||y||(n.lng?l(v,n.lng,x,()=>{z.current&&O(T)}):i(v,x,()=>{z.current&&O(T)})),E&&A&&A!==k&&z.current&&O(T);const t=()=>{z.current&&O(T)};return e&&(null==v||v.on(e,t)),s&&(null==v||v.store.on(s,t)),()=>{z.current=!1,v&&e&&(null==e||e.split(" ").forEach(e=>v.off(e,t))),s&&v&&s.split(" ").forEach(e=>v.store.off(e,t))}},[v,k]),s.useEffect(()=>{z.current&&E&&O(S)},[v,w,E]);const L=[C,v,E];if(L.t=C,L.i18n=v,L.ready=E,E)return L;if(!E&&!y)return L;throw new Promise(e=>{n.lng?l(v,n.lng,x,()=>e()):i(v,x,()=>e())})};export{t as o,s as r,h as u};
